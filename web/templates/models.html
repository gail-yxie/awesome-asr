{% extends "base.html" %}
{% block title %}Awesome ASR Speech Language â€” Models{% endblock %}

{% block content %}
<div class="page-header">
    <h1>Open-Source ASR & Speech Language Models</h1>
    <p>A curated catalog of notable open-source speech recognition and speech language models.</p>
</div>

{% if models %}
<div class="models-grid">
    {% for m in models %}
    <section class="card model-card">
        <div class="model-header">
            <h2>{{ m.name }}</h2>
            <span class="stat">{{ m.params }}</span>
        </div>
        <p class="date">{{ m.organization }} &middot; {{ m.date }}</p>

        <table class="model-details">
            <tr>
                <th>Architecture</th>
                <td>{{ m.architecture }}</td>
            </tr>
            <tr>
                <th>Key Innovation</th>
                <td>{{ m.innovation }}</td>
            </tr>
        </table>

        <div class="model-links">
            {% if m.paper_url %}
            <a href="{{ m.paper_url }}" class="btn btn-sm" target="_blank">Paper</a>
            {% endif %}
            {% if m.model_url %}
            <a href="{{ m.model_url }}" class="btn btn-secondary btn-sm" target="_blank">HuggingFace</a>
            {% endif %}
            {% if m.podcast_url %}
            <a href="{{ m.podcast_url }}" class="btn btn-podcast btn-sm" target="_blank">Podcast</a>
            {% endif %}
            {% if m.mindmap_url %}
            <a href="{{ m.mindmap_url }}" class="btn btn-mindmap btn-sm" target="_blank">Mind Map</a>
            {% endif %}
            {% if m.arxiv_id and not m.podcast_url and not m.mindmap_url %}
            <button class="btn btn-generate btn-sm" data-arxiv="{{ m.arxiv_id }}" onclick="generateMedia(this)">Generate Podcast & Mind Map</button>
            {% endif %}
        </div>
        <div class="generate-progress" style="display: none;"></div>

        <div class="model-notes" data-slug="{{ m.slug }}">
            <div class="notes-header">
                <span class="notes-label">Notes</span>
                <button class="btn-notes-toggle" onclick="toggleNotes(this)">Edit</button>
            </div>
            <div class="notes-display {% if not m.notes %}notes-empty{% endif %}">{{ m.notes or 'Click Edit to add notes...' }}</div>
            <div class="notes-edit" style="display: none;">
                <textarea class="notes-textarea" placeholder="Write your notes, ideas, or observations about this model...">{{ m.notes }}</textarea>
                <div class="notes-actions">
                    <button class="btn btn-sm" onclick="saveNotes(this)">Save</button>
                    <button class="btn btn-secondary btn-sm" onclick="cancelNotes(this)">Cancel</button>
                </div>
            </div>
        </div>
    </section>
    {% endfor %}
</div>
{% else %}
<div class="card empty-state">
    <p>No models cataloged yet.</p>
</div>
{% endif %}
{% endblock %}

{% block scripts %}
<script src="{{ url_for('static', filename='models.js') }}"></script>
{% endblock %}
