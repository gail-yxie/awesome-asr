{% extends "base.html" %}
{% block title %}ASR & Speech Language Daily — {{ report.date }}{% endblock %}

{% block content %}
<div class="page-header">
    <h1>ASR & Speech Language Daily Update — {{ report.date }}</h1>
    <a href="/daily" class="btn btn-secondary btn-sm">&larr; All Updates</a>
</div>

{% if html_content %}
<section class="card markdown-content">
    {{ html_content | safe }}
</section>
{% else %}
<section class="card">
    <h2>Summary</h2>
    <p class="summary">{{ report.summary }}</p>
</section>

{% if report.papers %}
<section class="card">
    <h2>Papers ({{ report.papers|length }})</h2>
    <table>
        <thead>
            <tr><th>Title</th><th>Authors</th><th>Link</th></tr>
        </thead>
        <tbody>
            {% for p in report.papers %}
            <tr>
                <td>{{ p.title }}</td>
                <td>{{ p.authors[:3]|join(', ') }}{% if p.authors|length > 3 %} et al.{% endif %}</td>
                <td><a href="{{ p.url }}" target="_blank">arXiv</a></td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</section>
{% endif %}

{% if report.models %}
<section class="card">
    <h2>Models ({{ report.models|length }})</h2>
    <table>
        <thead>
            <tr><th>Model</th><th>Architecture</th><th>Key Innovation</th><th>Link</th></tr>
        </thead>
        <tbody>
            {% for m in report.models %}
            <tr>
                <td>{{ m.model_id }}</td>
                <td>{{ m.architecture if m.architecture else '—' }}</td>
                <td>{{ m.innovation if m.innovation else '—' }}</td>
                <td><a href="{{ m.url }}" target="_blank">HF</a></td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</section>
{% endif %}

{% if report.ideas %}
<section class="card">
    <h2>Key Ideas</h2>
    <ul>
        {% for idea in report.ideas %}
        <li>{{ idea }}</li>
        {% endfor %}
    </ul>
</section>
{% endif %}
{% endif %}
{% endblock %}
